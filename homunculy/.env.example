# ===========================================
# Homunculy AI Agent System Configuration
# ===========================================
# Copy this file to .env and fill in your values

# ===========================================
# APPLICATION SETTINGS
# ===========================================
APP_NAME=Homunculy
APP_VERSION=3.0.0
APP_DEBUG=false
APP_HOST=0.0.0.0
APP_PORT=8000

# ===========================================
# DATABASE SETTINGS
# ===========================================
DATABASE_PROVIDER=postgresql
DATABASE_URI=postgresql+asyncpg://homunculy:homunculy@postgres:5432/homunculy
DATABASE_POSTGRES_HOST=postgres
DATABASE_POSTGRES_PORT=5432
DATABASE_POSTGRES_DB=homunculy
DATABASE_POSTGRES_USER=homunculy
DATABASE_POSTGRES_PASSWORD=homunculy
DATABASE_ECHO=false
DATABASE_ISOLATION_LEVEL=SERIALIZABLE
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# For SQLite (local development):
# DATABASE_PROVIDER=sqlite
# DATABASE_URI=sqlite+aiosqlite:///./homunculy.db
# DATABASE_SQLITE_PATH=./homunculy.db

# ===========================================
# LLM SETTINGS
# ===========================================
LLM_PROVIDER=openai
LLM_OPENAI_API_KEY=sk-your-openai-api-key-here
LLM_DEFAULT_MODEL=gpt-4o-mini
LLM_DEFAULT_TEMPERATURE=0.7
LLM_DEFAULT_MAX_TOKENS=2000
LLM_OPENAI_BASE_URL=https://api.openai.com/v1
LLM_REQUEST_TIMEOUT=30
LLM_MAX_RETRIES=3

# Summarization Settings (LangMem)
# Controls when/how conversation history is summarized for long sessions
LLM_SUMMARIZATION_MAX_TOKENS=256          # Max tokens to return to LLM after summarization
LLM_SUMMARIZATION_TRIGGER_TOKENS=1024     # Token threshold that triggers summarization (~10-20 messages)
LLM_SUMMARIZATION_SUMMARY_TOKENS=128      # Max tokens for the summary itself

# For Anthropic (future):
# LLM_PROVIDER=anthropic
# LLM_ANTHROPIC_API_KEY=sk-ant-your-key-here

# For Azure OpenAI (future):
# LLM_PROVIDER=azure
# LLM_AZURE_API_KEY=your-azure-key
# LLM_AZURE_ENDPOINT=https://your-resource.openai.azure.com/

# ===========================================
# TTS SETTINGS
# ===========================================
TTS_PROVIDER=elevenlabs
TTS_ELEVENLABS_API_KEY=your-elevenlabs-api-key-here
ELEVENLABS_API_KEY=your-elevenlabs-api-key-here

# TTS Models
TTS_ELEVENLABS_MODEL_ID=eleven_multilingual_v2
TTS_ELEVENLABS_STREAMING_MODEL_ID=eleven_turbo_v2_5

# Default Voice Configuration
TTS_DEFAULT_VOICE_ID=EXAVITQu4vr4xnSDxMaL
TTS_DEFAULT_STABILITY=0.5
TTS_DEFAULT_SIMILARITY_BOOST=0.75
TTS_DEFAULT_STYLE=0.0
TTS_DEFAULT_USE_SPEAKER_BOOST=true

# For Azure TTS (future):
# TTS_PROVIDER=azure
# TTS_AZURE_API_KEY=your-azure-speech-key
# TTS_AZURE_REGION=eastus

# For Google TTS (future):
# TTS_PROVIDER=google
# TTS_GOOGLE_CREDENTIALS_PATH=/path/to/credentials.json

# For AWS Polly (future):
# TTS_PROVIDER=aws
# TTS_AWS_ACCESS_KEY_ID=your-access-key
# TTS_AWS_SECRET_ACCESS_KEY=your-secret-key
# TTS_AWS_REGION=us-east-1

# ===========================================
# SECURITY SETTINGS
# ===========================================
SECURITY_JWT_SECRET_KEY=your-secret-key-change-in-production
SECURITY_JWT_ALGORITHM=HS256
SECURITY_JWT_EXPIRATION_HOURS=24
SECURITY_CORS_ALLOW_CREDENTIALS=true
SECURITY_API_KEY_HEADER_NAME=X-API-Key
SECURITY_RATE_LIMIT_REQUESTS=100
SECURITY_RATE_LIMIT_WINDOW_SECONDS=60

# ===========================================
# GATEWAY (LOCAL STORAGE)
# ===========================================
# Windows default: SQLite (auto)
# Set to true to use embedded Redis (Linux/macOS)
GATEWAY_REDIS_EMBEDDED=false
GATEWAY_REDIS_FILE=.homunculy-redis.db
GATEWAY_USE_SQLITE=true
GATEWAY_SQLITE_FILE=.homunculy.sqlite

# ===========================================
# LINE CHANNEL
# ===========================================
LINE_CHANNEL_ACCESS_TOKEN=your-line-channel-access-token
LINE_API_BASE=https://api.line.me

# ===========================================
# LOGGING SETTINGS
# ===========================================
LOGGING_LEVEL=INFO
LOGGING_FORMAT=json
LOGGING_FILE_ENABLED=true
LOGGING_FILE_PATH=logs/app.log
LOGGING_FILE_MAX_BYTES=10485760
LOGGING_FILE_BACKUP_COUNT=5
LOGGING_CONSOLE_ENABLED=true
LOGGING_STRUCTURED_ENABLED=true
