# =============================================================================
# SecretProviderClass Patch - Production Values
# =============================================================================
# Uses kubelet managed identity (auto-detected via VM metadata service)
# No clientID needed - AKS has only one identity now
# =============================================================================
apiVersion: secrets-store.csi.x-k8s.io/v1
kind: SecretProviderClass
metadata:
  name: azure-keyvault-homunculy
spec:
  parameters:
    usePodIdentity: "false"
    useVMManagedIdentity: "true" 
    keyvaultName: "kv-homunculy-prod"
    tenantId: "d52cd61e-40d3-463c-a422-f4aa5017abd5"
